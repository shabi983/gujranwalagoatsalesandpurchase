<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Gujranwala Goats Sales and Purchase - Available Goats</title>
<link rel="icon" href="https://res.cloudinary.com/dn2kaltwg/image/upload/v1758995211/hseoh5jiurx1gyh9b7x7.jpg">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>

body {
  font-family: "Lato", sans-serif !important;
  margin:0;
  padding: 0;
}

.goat-gallery {
  position: relative;
  width: 100%;
  height: 200px; /* adjust as you like */
  overflow: hidden;
  border-radius: 8px;
}

.goat-slides {
  display: flex;
  transition: transform 0.4s ease;
  width: 100%;
  height: 100%;
}

.goat-slides img {
  flex: 0 0 100%;  /* each image takes full width */
  height: 100%;
  object-fit: cover;
}


.goat-slides {
  display: flex;
  transition: transform 0.3s ease;
  width: 100%;
}

.goat-slides img {
  flex-shrink: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

#lightbox {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  z-index: 9999;
  justify-content: center;
  align-items: center;
}

#lightbox.show {
  display: flex;
}

#lightbox img {
  max-width: 90%;
  max-height: 90%;
  object-fit: contain;
}

#lightboxPrev,
#lightboxNext {
  z-index: 10000; /* ensure above image */
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: #fff;
  border: none;
  font-size: 24px;
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
}

#lightboxClose{
  z-index: 10000; /* ensure above image */
  transform: translateY(-50%);
  background: red;
  color: #fff;
  border: none;
  font-size: 24px;
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
  top: 30px;
  right: 10px;
  position: absolute;
}

.goat-gallery button.prev,
.goat-gallery button.next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: #fff;
  border: none;
  font-size: 24px;
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 5; /* ensure above images */
}

.goat-gallery button.prev { left: 8px; }
.goat-gallery button.next { right: 8px; }


/* Grid container */
#approvedList {
  display: grid;
  gap: 16px; /* space between columns and rows */
  grid-template-columns: repeat(3, 1fr); /* 3 columns by default */
  padding: 16px;
}

.goat-card{
  border: 1px solid #ccc;
  padding: 16px;
  max-height: 400px;
  border-radius: 8px;
  cursor: pointer;
}

/* Each goat section scrollable if content exceeds 400px */
.goat-section {
  padding: 16px;
  border-radius: 8px;
}


.logoutA{
position: fixed; top: 20px; right: 0; padding: 10px; background: #000000; color: #ffffff; text-decoration: none; font-weight: bolder;  border-radius: 10px 0px 0px 10px;
}

.logoutA:hover{
  background:darkred;
  transition: 0.3s;
}


.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1000;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}



/* Tablet: 2 columns */
@media (max-width: 1024px) {
  .goat-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  #approvedList{
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Mobile: 1 column */
@media (max-width: 640px) {
  .goat-grid {
    grid-template-columns: 1fr;
  }
  #approvedList{
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>

      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="index.html">Home</a>
  <a href="goats.html">Available Goats</a>
  <a href="about.html">About</a>
  <a href="contact.html">Contact</a>
  <a href="login.html">Login</a>
</div>

<div style="padding:20px; display: flex; justify-content: space-around; font-size:30px;cursor:pointer; color: #ffffff; position: sticky; left: 5px; top: 0; z-index:100; background:#000;" onclick="openNav()">&#9776; Menu <img width="60px" style="border-radius:45%" src="https://res.cloudinary.com/dn2kaltwg/image/upload/v1758995211/hseoh5jiurx1gyh9b7x7.jpg" /></div>

<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}
</script>


<div style="" class="menuLogout"> </div>

<section id="home" class="home">
      <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
    <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://media.scbt.com/en/s/scah-goat-landing.png" class="d-block w-100" alt="...">
      <div style="background: #000000c4;" class="carousel-caption d-none d-md-block">
        <h5>Looking for End-to-End Support with your projects?</h5>
        <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://kashigoatfarm.weebly.com/uploads/1/1/2/8/112872465/editor/banner02_1.jpg" class="d-block w-100" alt="...">
      <div style="background: #000000c4;" class="carousel-caption d-none d-md-block">
        <h5>Second slide label</h5>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://cdn.pixabay.com/photo/2017/09/05/22/35/goats-2719445_1280.jpg" class="d-block w-100" alt="...">
      <div style="background: #000000c4;" class="carousel-caption d-none d-md-block">
        <h5>Third slide label</h5>
        <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
      </div>
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
  </section>


<section>
<div style="margin: 20px;">
<h2>✅ Available Goats</h2>

  <!-- Approved Goats -->
  <div id="approvedGoats" class="goat-section">
    <div id="approvedList"></div>
  </div>
</section>
</div>
<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwEs3eFUs7MlxdZ4FQPFFx6g2EFCc9dklhhkxt66qSPmpXVyOFUBS33nA4_ipam35ENbA/exec";

async function loadMyGoats() {

  const res = await fetch(SCRIPT_URL, {
    method: "POST",
    body: new URLSearchParams({ action: "getApprovedGoats"})
  });
  const goats = await res.json();

  // Clear old lists
  document.getElementById("approvedList").innerHTML = "";


  goats.forEach(g => {
    let photoArr = g.PhotoURL ? g.PhotoURL.split(",") : [];
let photosHtml = "";
if (photoArr.length > 0) {
  photosHtml = `
    <div class="goat-gallery relative w-full h-48 overflow-hidden mt-2 rounded">
      <div class="goat-slides flex transition-transform duration-300">
        ${photoArr.map(url => `<img src="${url}" class="w-full h-48 object-cover flex-shrink-0">`).join("")}
      </div>
      ${photoArr.length > 1 ? `
        <button class="prev absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded">‹</button>
        <button class="next absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded">›</button>
      ` : ""}
    </div>
  `;
}



    const div = document.createElement("div");
div.className = "goat-card border p-2 mb-2 rounded";
div.innerHTML = `
  <div>
     ${photosHtml}   <!-- ✅ insert gallery here -->
    <h3>${g.Title} - ${(g.price ?? g.Price ?? 0).toLocaleString("en-US")} PKR</h3> 
    <p>${g.Desc}</p>
  </div>
`;


document.getElementById("approvedList").appendChild(div);

  });

// === Lightbox ===
let currentPhotos = [];
let currentIndex = 0;

function openLightbox(photos, index) {
  currentPhotos = photos;
  currentIndex = index;
  document.getElementById("lightboxImg").src = currentPhotos[currentIndex];
  document.getElementById("lightbox").classList.add("show");
}

function closeLightbox() {
  document.getElementById("lightbox").classList.remove("show");
}

function showPrev() {
  if (!currentPhotos.length) return;
  currentIndex = (currentIndex - 1 + currentPhotos.length) % currentPhotos.length;
  document.getElementById("lightboxImg").src = currentPhotos[currentIndex];
}

function showNext() {
  if (!currentPhotos.length) return;
  currentIndex = (currentIndex + 1) % currentPhotos.length;
  document.getElementById("lightboxImg").src = currentPhotos[currentIndex];
}

// Bind buttons once
document.getElementById("lightboxClose").onclick = closeLightbox;
document.getElementById("lightboxPrev").onclick = showPrev;
document.getElementById("lightboxNext").onclick = showNext;
document.getElementById("lightbox").addEventListener("click", e => {
  if (e.target.id === "lightbox") closeLightbox();
});

// Open lightbox on goat gallery image click
document.addEventListener("click", e => {
  if (e.target.tagName === "IMG" && e.target.closest(".goat-gallery")) {
    const gallery = e.target.closest(".goat-gallery");
    const photos = Array.from(gallery.querySelectorAll("img")).map(img => img.src);
    openLightbox(photos, photos.indexOf(e.target.src));
  }
});

    initSliders();
}




function initSliders() {
  document.querySelectorAll(".goat-gallery").forEach(gallery => {
    const slides = gallery.querySelector(".goat-slides");
    const images = gallery.querySelectorAll(".goat-slides img");
    const prevBtn = gallery.querySelector(".prev");
    const nextBtn = gallery.querySelector(".next");
    let index = 0;

    function showSlide() {
      slides.style.transform = `translateX(-${index * 100}%)`;
    }

    prevBtn?.addEventListener("click", e => {
      e.stopPropagation();
      index = (index - 1 + images.length) % images.length;
      showSlide();
    });

    nextBtn?.addEventListener("click", e => {
      e.stopPropagation();
      index = (index + 1) % images.length;
      showSlide();
    });

    showSlide();
  });
}



// === On Page Load ===
document.addEventListener("DOMContentLoaded", () => {
  loadMyGoats();

  // ✅ Lightbox event bindings AFTER DOM is ready
  document.getElementById("lightboxClose").addEventListener("click", closeLightbox);
  document.getElementById("lightboxPrev").addEventListener("click", showPrev);
  document.getElementById("lightboxNext").addEventListener("click", showNext);

  // Close lightbox on background click
  document.getElementById("lightbox").addEventListener("click", function(e) {
    if (e.target.id === "lightbox") closeLightbox();
  });
});



</script>

<!-- Fullscreen Lightbox Slider -->
<div id="lightbox" class="fixed inset-0 bg-black bg-opacity-90 items-center justify-center z-50" style="
    width: 100%;
    height: 100vh;
    position: fixed;
    top: 0;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    background: #000000d1;
">
  <span id="lightboxClose" >&times;</span>
  <button id="lightboxPrev" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-4xl cursor-pointer">‹</button>
  <img id="lightboxImg" src="" class="max-h-full max-w-full object-contain">
  <button id="lightboxNext" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-4xl cursor-pointer">›</button>
</div>


<hr class="mt-5">
  <!-- Footer -->
<footer class="page-footer font-small unique-color-dark">
  <!-- Footer Links -->
  <div class="container text-center text-md-left mt-5">

    <!-- Grid row -->
    <div class="row mt-3">

      <!-- Grid column -->
      <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">

        <!-- Content -->
        <h5 class="text-uppercase"><img src="https://res.cloudinary.com/dn2kaltwg/image/upload/v1758995211/hseoh5jiurx1gyh9b7x7.jpg" style="max-width:70px; border-radius: 45%;" class="img-responsive"></h5>
       
        <p>At Gujranwala Goats Sales and Purchase, we believe that raising and trading goats is not just a business—it’s a passion built on trust, knowledge, and care. Founded and managed by Usman Aziz, our platform is dedicated to providing the healthiest and finest goats in the region. </p>

      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">

        <!-- Links -->
        <h6 class="text-uppercase font-weight-bold">Products</h6>
        <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
        <p>
          <a href="goats.html">Goats</a>
        </p>
        <p>
          <a href="#!">Products</a>
        </p>
        <p>
          <a href="about.html">About Us</a>
        </p>
        <p>
          <a href="contact.html">Contact us</a>
        </p>

      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">

        <!-- Links -->
        <h6 class="text-uppercase font-weight-bold">Useful links</h6>
        <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
        <p>
          <a href="login.html">Your Account</a>
        </p>
        <p>
          <a href="#!">Become an Affiliate</a>
        </p>
        <p>
          <a href="#!">Shipping Rates</a>
        </p>
        <p>
          <a href="https://wa.me/923556614953" target="_blank">Help</a>
        </p>

      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">

        <!-- Links -->
        <h6 class="text-uppercase font-weight-bold">Contact</h6>
        <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="max-width: 100%;">
        <p>
          <i class="fa fa-home mr-3"></i>  Gujranwala Cantt, Punjab , Pakistan.</p>
        <p>
          <i class="fa fa-envelope mr-3"></i> sulemanaziz405@gmail.com</p>
        <p>
          <i class="fa fa-phone mr-3"></i> +92 355 661-4953</p>
        <p>
          <i class="fa fa-print mr-3"></i> +92 320 716-1215</p>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links -->
<hr>
  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2025 Copyright:
    <a href="#"> Gujranwala Goats Sales & Purchase</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->

</body>
</html>

